<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>My New Post</title>
    <url>/2025/01/20/My-New-Post/</url>
    <content><![CDATA[<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼ğŸ‰  </p>
<p>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œåœ¨è¿™é‡Œæˆ‘å°†è®°å½•è‡ªå·±çš„å­¦ä¹ ä¸æˆé•¿æ—…ç¨‹ã€‚<br>æœªæ¥çš„åšå®¢å†…å®¹å°†ä¸»è¦å›´ç»•ä»¥ä¸‹å‡ ä¸ªæ–¹å‘å±•å¼€ï¼š  </p>
<ul>
<li>å‰ç«¯ä¸åç«¯å¼€å‘  </li>
<li>äº‘æœåŠ¡ç›¸å…³æŠ€æœ¯  </li>
<li>äººå·¥æ™ºèƒ½åº”ç”¨ä¸ç ”ç©¶</li>
</ul>
<p>å¸Œæœ›é€šè¿‡è¿™ä¸ªåšå®¢ä¸å¤§å®¶åˆ†äº«æŠ€æœ¯å¿ƒå¾—ï¼Œäº’ç›¸äº¤æµè¿›æ­¥ï¼ğŸ˜Š  </p>
<p>æ•¬è¯·æœŸå¾…æ›´å¤šç²¾å½©å†…å®¹ï½  </p>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
  </entry>
  <entry>
    <title>æ”¯ä»˜å®æŠ•èµ„æŒä»“æ›´æ–°</title>
    <url>/2025/05/17/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%8A%95%E8%B5%84%E6%8C%81%E4%BB%93%E6%9B%B4%E6%96%B0/</url>
    <content><![CDATA[<h2 id="æŒä»“-ç°é‡‘"><a href="#æŒä»“-ç°é‡‘" class="headerlink" title="æŒä»“&#x2F;ç°é‡‘"></a>æŒä»“&#x2F;ç°é‡‘</h2><ul>
<li>ç°é‡‘ 50% </li>
<li>æŒä»“ 50%</li>
</ul>
<h2 id="ğŸ“†-5-12-5-16-æ“ä½œè®°å½•"><a href="#ğŸ“†-5-12-5-16-æ“ä½œè®°å½•" class="headerlink" title="ğŸ“† 5.12 - 5.16 æ“ä½œè®°å½•"></a>ğŸ“† 5.12 - 5.16 æ“ä½œè®°å½•</h2><h3 id="âœ…-åŸºé‡‘æ“ä½œ"><a href="#âœ…-åŸºé‡‘æ“ä½œ" class="headerlink" title="âœ… åŸºé‡‘æ“ä½œ"></a>âœ… åŸºé‡‘æ“ä½œ</h3><ul>
<li>æ¯æ—¥å®šæŠ•ï¼š<strong>åšæ—¶çº³æ–¯è¾¾å…‹100ETF</strong> </li>
<li>âœ… å·²æ‰§è¡Œè‡³å‘¨äº”</li>
<li>â›” å‘¨æœ«å·²<strong>æš‚åœå®šæŠ•</strong></li>
<li>â›” å‘¨æœ«å·² æ¸…ä»“ 50%</li>
</ul>
<h3 id="ğŸ’°-é»„é‡‘æ“ä½œ"><a href="#ğŸ’°-é»„é‡‘æ“ä½œ" class="headerlink" title="ğŸ’° é»„é‡‘æ“ä½œ"></a>ğŸ’° é»„é‡‘æ“ä½œ</h3><ul>
<li>å·²<strong>æ¸…ä»“é»„é‡‘</strong></li>
<li>ç­‰å¾…å›è°ƒè‡³ <strong>$3000 ä»¥ä¸‹</strong> å†è¡ŒåŠ ä»“è®¡åˆ’</li>
</ul>
<h3 id="æœªæ¥è¶‹åŠ¿"><a href="#æœªæ¥è¶‹åŠ¿" class="headerlink" title="æœªæ¥è¶‹åŠ¿"></a>æœªæ¥è¶‹åŠ¿</h3><ul>
<li>è°¨æ…çœ‹å¥½ç¾è‚¡æŒ‡æ•° ç­‰å¾…å›è°ƒåå†æ‰¾æœºä¼šæŠ„åº•</li>
<li>å¦‚æœnasdaq100è·Œåˆ°20000ä»¥ä¸‹ ä¹°å…¥</li>
<li>å¦‚æœé»„é‡‘è·Œåˆ°3000ä»¥ä¸‹ ä¹°å…¥</li>
</ul>
<h2 id="ğŸ“†-5-19-5-23-æ“ä½œè®°å½•"><a href="#ğŸ“†-5-19-5-23-æ“ä½œè®°å½•" class="headerlink" title="ğŸ“† 5.19 - 5.23 æ“ä½œè®°å½•"></a>ğŸ“† 5.19 - 5.23 æ“ä½œè®°å½•</h2><h3 id="âœ…-åŸºé‡‘æ“ä½œ-1"><a href="#âœ…-åŸºé‡‘æ“ä½œ-1" class="headerlink" title="âœ… åŸºé‡‘æ“ä½œ"></a>âœ… åŸºé‡‘æ“ä½œ</h3><ul>
<li>æ¯æ—¥å®šæŠ•ï¼š<strong>åšæ—¶çº³æ–¯è¾¾å…‹100ETF</strong> </li>
<li><strong>æš‚åœå®šæŠ•</strong></li>
<li>â›”å‘¨ä¸‰æ¸…ä»“40% å‰©ä¸‹10%å¯¹å†²é£é™©</li>
</ul>
<h3 id="ğŸ’°-é»„é‡‘æ“ä½œ-1"><a href="#ğŸ’°-é»„é‡‘æ“ä½œ-1" class="headerlink" title="ğŸ’° é»„é‡‘æ“ä½œ"></a>ğŸ’° é»„é‡‘æ“ä½œ</h3><ul>
<li>å‘¨å››åŠ ä»“é»„é‡‘ åœ¨3340ç‚¹ä¹°å…¥ è¿½é«˜</li>
</ul>
<h3 id="æœªæ¥è¶‹åŠ¿-1"><a href="#æœªæ¥è¶‹åŠ¿-1" class="headerlink" title="æœªæ¥è¶‹åŠ¿"></a>æœªæ¥è¶‹åŠ¿</h3><ul>
<li>ç¾è‚¡ç»§ç»­å›è°ƒ ç§‘æŠ€è‚¡ä¸‹è·Œ</li>
<li>çœ‹å¥½é»„é‡‘ä½œä¸ºé•¿æœŸé¿é™©èµ„äº§ å‡†å¤‡é•¿æœŸæŒæœ‰ 3500ç‚¹è€ƒè™‘å–å‡º</li>
</ul>
]]></content>
      <categories>
        <category>è‚¡ç¥¨æŠ•èµ„</category>
      </categories>
  </entry>
  <entry>
    <title>æ³¢æ®µäº¤æ˜“ç­–ç•¥ç®€ä»‹</title>
    <url>/2025/05/17/%E6%B3%A2%E6%AE%B5%E4%BA%A4%E6%98%93%E7%AD%96%E7%95%A5%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<p>æ³¢æ®µäº¤æ˜“æ˜¯ä¸€ç§ä¸­çŸ­æœŸæ“ä½œç­–ç•¥ï¼Œæ—¨åœ¨åˆ©ç”¨è‚¡ä»·çš„æ³¢åŠ¨è·å–åˆ©æ¶¦ã€‚ç›¸è¾ƒäºé•¿æœŸæŒæœ‰æˆ–æ—¥å†…äº¤æ˜“ï¼Œæ³¢æ®µäº¤æ˜“é€šè¿‡åˆ†æè¶‹åŠ¿ã€æŠ€æœ¯æŒ‡æ ‡ã€å¸‚åœºæƒ…ç»ªç­‰ï¼Œå¯»æ‰¾ä¹°å…¥å’Œå–å‡ºçš„åˆé€‚æ—¶æœºã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯æ³¢æ®µäº¤æ˜“ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ³¢æ®µäº¤æ˜“ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ³¢æ®µäº¤æ˜“ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ³¢æ®µäº¤æ˜“ï¼Ÿ</h2><p>æ³¢æ®µäº¤æ˜“çš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œé«˜æŠ›ä½å¸â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è‚¡ä»·é˜¶æ®µæ€§ä¸‹è·Œæ—¶ä¹°å…¥ï¼Œåœ¨ä¸Šæ¶¨æ—¶å–å‡ºï¼ŒæŠ“ä½â€œä¸€ä¸ªæ³¢æ®µâ€çš„æ¶¨å¹…ã€‚</p>
<h2 id="å¸¸ç”¨çš„æ³¢æ®µäº¤æ˜“å·¥å…·"><a href="#å¸¸ç”¨çš„æ³¢æ®µäº¤æ˜“å·¥å…·" class="headerlink" title="å¸¸ç”¨çš„æ³¢æ®µäº¤æ˜“å·¥å…·"></a>å¸¸ç”¨çš„æ³¢æ®µäº¤æ˜“å·¥å…·</h2><ul>
<li><strong>å‡çº¿ç³»ç»Ÿ</strong>ï¼šå¸¸è§å¦‚ 5 æ—¥ã€10 æ—¥ã€20 æ—¥å‡çº¿äº¤å‰ä¿¡å·ã€‚</li>
<li><strong>KDJã€MACD</strong>ï¼šç”¨æ¥åˆ¤æ–­è¶…ä¹°è¶…å–åŒºæˆ–è¶‹åŠ¿åè½¬ã€‚</li>
<li><strong>è¶‹åŠ¿çº¿ä¸æ”¯æ’‘é˜»åŠ›ä½</strong>ï¼šè¾…åŠ©åˆ¤æ–­çªç ´ä¸åå¼¹ã€‚</li>
<li><strong>é‡ä»·å…³ç³»</strong>ï¼šåˆ†ææˆäº¤é‡é…åˆèµ°åŠ¿çš„æœ‰æ•ˆæ€§ã€‚</li>
</ul>
<h2 id="æ³¢æ®µäº¤æ˜“çš„ä¼˜åŠ£"><a href="#æ³¢æ®µäº¤æ˜“çš„ä¼˜åŠ£" class="headerlink" title="æ³¢æ®µäº¤æ˜“çš„ä¼˜åŠ£"></a>æ³¢æ®µäº¤æ˜“çš„ä¼˜åŠ£</h2><p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>åˆ©ç”¨å¸‚åœºæ³¢åŠ¨èµšå–åˆ©æ¶¦ï¼›</li>
<li>æ—¶é—´å ç”¨é€‚ä¸­ï¼Œé€‚åˆä¸Šç­æ—æŠ•èµ„è€…ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å®¹æ˜“å—æƒ…ç»ªå¹²æ‰°ï¼Œä¹°å–ç‚¹æŠŠæ¡ä¸å‡†ï¼›</li>
<li>éœ€è¦è¾ƒå¼ºçš„æŠ€æœ¯åˆ†æèƒ½åŠ›ã€‚</li>
</ul>
<h2 id="å®è·µå»ºè®®"><a href="#å®è·µå»ºè®®" class="headerlink" title="å®è·µå»ºè®®"></a>å®è·µå»ºè®®</h2><ol>
<li>è®¾å¥½æ­¢ç›ˆæ­¢æŸï¼Œé¿å…æƒ…ç»ªäº¤æ˜“ï¼›</li>
<li>ä¸ç›²ç›®è¿½æ¶¨æ€è·Œï¼›</li>
<li>å¤šçœ‹è¶‹åŠ¿ï¼Œå°‘åšé¢„æµ‹ï¼›</li>
<li>æ¯æ¬¡äº¤æ˜“æœ‰æ˜ç¡®é€»è¾‘ã€‚</li>
</ol>
<hr>
<blockquote>
<p>æœ¬æ–‡ä»…ä¸ºå­¦ä¹ äº¤æµï¼ŒæŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>è‚¡ç¥¨æŠ•èµ„</category>
      </categories>
      <tags>
        <tag>æ³¢æ®µäº¤æ˜“</tag>
        <tag>æŠ•èµ„ç­–ç•¥</tag>
        <tag>è‚¡ç¥¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸€ç¯‡éšæƒ³</title>
    <url>/2025/05/17/%E7%AC%AC%E4%B8%80%E7%AF%87%E9%9A%8F%E6%83%B3/</url>
    <content><![CDATA[<p>æˆ‘æ˜¯å¥¶é¾™ï¼</p>
]]></content>
      <categories>
        <category>éšæƒ³</category>
      </categories>
  </entry>
  <entry>
    <title>Nasdaq-100ETFé¢„æµ‹</title>
    <url>/2025/05/18/nasdaq100etf%E9%A2%84%E6%B5%8B%E5%87%86%E7%A1%AE%E7%8E%87-80/</url>
    <content><![CDATA[<h3 id="å®æ—¶é¢„æµ‹Nasdaq-100æŒ‡æ•°æ˜¯å¦å¤„åœ¨æœ€é«˜-æœ€ä½ç‚¹"><a href="#å®æ—¶é¢„æµ‹Nasdaq-100æŒ‡æ•°æ˜¯å¦å¤„åœ¨æœ€é«˜-æœ€ä½ç‚¹" class="headerlink" title="å®æ—¶é¢„æµ‹Nasdaq-100æŒ‡æ•°æ˜¯å¦å¤„åœ¨æœ€é«˜&#x2F;æœ€ä½ç‚¹"></a>å®æ—¶é¢„æµ‹Nasdaq-100æŒ‡æ•°æ˜¯å¦å¤„åœ¨æœ€é«˜&#x2F;æœ€ä½ç‚¹</h3><ul>
<li>link: <a href="https://github.com/Yuan-33/stock_market">https://github.com/Yuan-33/stock_market</a></li>
</ul>
]]></content>
      <categories>
        <category>è‚¡ç¥¨æŠ•èµ„</category>
      </categories>
  </entry>
  <entry>
    <title>ONNXåŸç†åŠåº”ç”¨</title>
    <url>/2025/05/24/ONNX%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ONNXå·¥ä½œåŸç†ä¸æ ¸å¿ƒä»·å€¼"><a href="#ä¸€ã€ONNXå·¥ä½œåŸç†ä¸æ ¸å¿ƒä»·å€¼" class="headerlink" title="ä¸€ã€ONNXå·¥ä½œåŸç†ä¸æ ¸å¿ƒä»·å€¼"></a>ä¸€ã€ONNXå·¥ä½œåŸç†ä¸æ ¸å¿ƒä»·å€¼</h2><h3 id="1-1-è·¨æ¡†æ¶æ¡¥æ¢æ¶æ„"><a href="#1-1-è·¨æ¡†æ¶æ¡¥æ¢æ¶æ„" class="headerlink" title="1.1 è·¨æ¡†æ¶æ¡¥æ¢æ¶æ„"></a>1.1 è·¨æ¡†æ¶æ¡¥æ¢æ¶æ„</h3><p><img src="/images/onnx_pipeline.png" class="lazyload placeholder" data-srcset="/images/onnx_pipeline.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="ONNXæ ¸å¿ƒæ¶æ„"></p>
<h2 id="äºŒã€ONNXæ–‡ä»¶ç»“æ„è§£æ"><a href="#äºŒã€ONNXæ–‡ä»¶ç»“æ„è§£æ" class="headerlink" title="äºŒã€ONNXæ–‡ä»¶ç»“æ„è§£æ"></a>äºŒã€ONNXæ–‡ä»¶ç»“æ„è§£æ</h2><h3 id="2-1-åŸºäºProtocol-Buffersçš„äºŒè¿›åˆ¶ç»“æ„"><a href="#2-1-åŸºäºProtocol-Buffersçš„äºŒè¿›åˆ¶ç»“æ„" class="headerlink" title="2.1 åŸºäºProtocol Buffersçš„äºŒè¿›åˆ¶ç»“æ„"></a>2.1 åŸºäºProtocol Buffersçš„äºŒè¿›åˆ¶ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ONNXæ¨¡å‹çš„æ ¸å¿ƒç»„ä»¶å®šä¹‰</span><br><span class="line">message ModelProto &#123;</span><br><span class="line">  GraphProto graph = 7;          // è®¡ç®—å›¾å®šä¹‰ï¼ˆèŠ‚ç‚¹/è¾¹ï¼‰</span><br><span class="line">  repeated TensorProto initializer = 5; // é¢„è®­ç»ƒæƒé‡æ•°æ®</span><br><span class="line">  repeated StringStringEntryProto metadata_props = 14; // ä½œè€…/ç‰ˆæœ¬ç­‰å…ƒä¿¡æ¯</span><br><span class="line">  int64 ir_version = 1;          // æ ¼å¼ç‰ˆæœ¬æ ‡è¯†ï¼ˆå½“å‰æœ€æ–°ä¸º8ï¼‰</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ ¸å¿ƒç»„ä»¶è§£æ"><a href="#æ ¸å¿ƒç»„ä»¶è§£æ" class="headerlink" title="æ ¸å¿ƒç»„ä»¶è§£æ"></a>æ ¸å¿ƒç»„ä»¶è§£æ</h2><h3 id="GraphProto"><a href="#GraphProto" class="headerlink" title="GraphProto"></a>GraphProto</h3><ul>
<li><strong>è®¡ç®—é€»è¾‘æè¿°</strong>ï¼šå®Œæ•´å®šä¹‰æ¨¡å‹çš„è®¡ç®—å›¾ç»“æ„  <ul>
<li><code>node</code>ï¼šç®—å­èŠ‚ç‚¹åºåˆ—ï¼ˆå¦‚<code>Conv</code>&#x2F;<code>MatMul</code>ç­‰ï¼‰  </li>
<li><code>input/output</code>ï¼šå®šä¹‰æ¨¡å‹çš„è¾“å…¥è¾“å‡ºå¼ é‡æ ¼å¼</li>
</ul>
</li>
</ul>
<h3 id="TensorProto"><a href="#TensorProto" class="headerlink" title="TensorProto"></a>TensorProto</h3><ul>
<li><strong>æ•°æ®å­˜å‚¨è§„èŒƒ</strong>ï¼šé«˜æ•ˆå­˜å‚¨æ¨¡å‹æƒé‡å‚æ•°  <ul>
<li>æ”¯æŒæ ¼å¼ï¼š<code>FP32</code>&#x2F;<code>INT8</code>&#x2F;<code>UINT8</code>ç­‰  </li>
<li>å‹ç¼©ä¼˜åŒ–ï¼šé‡‡ç”¨ZIPå‹ç¼©å¯å‡å°‘<code>75%</code>å­˜å‚¨ä½“ç§¯</li>
</ul>
</li>
</ul>
<h3 id="OPSETç‰ˆæœ¬"><a href="#OPSETç‰ˆæœ¬" class="headerlink" title="OPSETç‰ˆæœ¬"></a>OPSETç‰ˆæœ¬</h3><ul>
<li><strong>ç®—å­é›†ç®¡ç†</strong>ï¼šæ§åˆ¶ç®—å­å…¼å®¹æ€§ä¸åŠŸèƒ½  <ul>
<li>ç‰ˆæœ¬è¿­ä»£ï¼š<code>v16</code>æ–°å¢<code>GridSample</code>ç­‰è§†è§‰ç®—å­  </li>
<li>å¼•æ“å¯¹é½ï¼šéœ€ä¸<code>TensorRT</code>&#x2F;<code>OpenVINO</code>ç­‰æ¨ç†å¼•æ“ç‰ˆæœ¬åŒ¹é…</li>
</ul>
</li>
</ul>
<h3 id="2-2-åŠ¨æ€å½¢çŠ¶æ”¯æŒæœºåˆ¶"><a href="#2-2-åŠ¨æ€å½¢çŠ¶æ”¯æŒæœºåˆ¶" class="headerlink" title="2.2 åŠ¨æ€å½¢çŠ¶æ”¯æŒæœºåˆ¶"></a>2.2 åŠ¨æ€å½¢çŠ¶æ”¯æŒæœºåˆ¶</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># åŠ¨æ€ç»´åº¦è®¾ç½®ç¤ºä¾‹ï¼ˆæ”¯æŒåŠ¨æ€batch/å°ºå¯¸ï¼‰</span><br><span class="line">dynamic_axes = &#123;</span><br><span class="line">    &#x27;input_images&#x27;: &#123; </span><br><span class="line">        0: &#x27;batch_size&#x27;,   # ç¬¬0ç»´ä¸ºåŠ¨æ€batch</span><br><span class="line">        2: &#x27;image_height&#x27;, # é«˜åº¦å¯å˜</span><br><span class="line">        3: &#x27;image_width&#x27;   # å®½åº¦å¯å˜</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x27;output_scores&#x27;: &#123;0: &#x27;batch_size&#x27;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŠ¨æ€å½¢çŠ¶æ”¯æŒçš„ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿"><a href="#åŠ¨æ€å½¢çŠ¶æ”¯æŒçš„ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿" class="headerlink" title="åŠ¨æ€å½¢çŠ¶æ”¯æŒçš„ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿"></a>åŠ¨æ€å½¢çŠ¶æ”¯æŒçš„ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿</h2><h3 id="æ‰¹å¤„ç†çµæ´»æ€§"><a href="#æ‰¹å¤„ç†çµæ´»æ€§" class="headerlink" title="æ‰¹å¤„ç†çµæ´»æ€§"></a>æ‰¹å¤„ç†çµæ´»æ€§</h3><ul>
<li><strong>æŠ€æœ¯ç‰¹æ€§</strong>ï¼šåŒä¸€æ¨ç†å¼•æ“å¯åŒæ—¶å¤„ç†  <ul>
<li>å®æ—¶è¯·æ±‚ï¼š<code>batch_size=1</code> çš„ä½å»¶è¿Ÿåœºæ™¯  </li>
<li>ç¦»çº¿ä»»åŠ¡ï¼š<code>batch_size=32</code> çš„é«˜åååœºæ™¯</li>
</ul>
</li>
</ul>
<h3 id="å¤šåˆ†è¾¨ç‡é€‚é…"><a href="#å¤šåˆ†è¾¨ç‡é€‚é…" class="headerlink" title="å¤šåˆ†è¾¨ç‡é€‚é…"></a>å¤šåˆ†è¾¨ç‡é€‚é…</h3><ul>
<li><strong>è§†è§‰æ¨¡å‹æ”¯æŒ</strong>ï¼š  <ul>
<li>è¾“å…¥å›¾åƒå°ºå¯¸æ— éœ€å›ºå®šï¼ˆå¦‚224x224ï¼‰  </li>
<li>è‡ªåŠ¨é€‚é…ï¼š  <ul>
<li>ä½åˆ†è¾¨ç‡ï¼š480p (640Ã—480)  </li>
<li>é«˜åˆ†è¾¨ç‡ï¼š1080p (1920Ã—1080)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="é•¿åºåˆ—å¤„ç†"><a href="#é•¿åºåˆ—å¤„ç†" class="headerlink" title="é•¿åºåˆ—å¤„ç†"></a>é•¿åºåˆ—å¤„ç†</h3><ul>
<li><strong>NLPåœºæ™¯æ”¯æŒ</strong>ï¼š  <ul>
<li>çŸ­æ–‡æœ¬ï¼šå¤„ç†<code>seq_length=64</code>çš„æ–‡æœ¬åˆ†ç±»  </li>
<li>é•¿æ–‡æ¡£ï¼šå¤„ç†<code>seq_length=4096</code>çš„æ–‡æœ¬æ‘˜è¦  </li>
<li>æµå¼è¾“å…¥ï¼šæ”¯æŒä¸å®šé•¿è¯­éŸ³è¯†åˆ«åºåˆ—</li>
</ul>
</li>
</ul>
<h2 id="ä¸‰ã€æ¨¡å‹ç®€å•åº”ç”¨"><a href="#ä¸‰ã€æ¨¡å‹ç®€å•åº”ç”¨" class="headerlink" title="ä¸‰ã€æ¨¡å‹ç®€å•åº”ç”¨"></a>ä¸‰ã€æ¨¡å‹ç®€å•åº”ç”¨</h2><h3 id="3-1-åŸºç¡€æ¨¡å‹å¯¼å‡º"><a href="#3-1-åŸºç¡€æ¨¡å‹å¯¼å‡º" class="headerlink" title="3.1 åŸºç¡€æ¨¡å‹å¯¼å‡º"></a>3.1 åŸºç¡€æ¨¡å‹å¯¼å‡º</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import torch</span><br><span class="line">import onnx</span><br><span class="line"></span><br><span class="line">class SimpleCNN(torch.nn.Module):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self.conv = torch.nn.Conv2d(3, 64, 3)</span><br><span class="line">        self.pool = torch.nn.MaxPool2d(2)</span><br><span class="line">    </span><br><span class="line">    def forward(self, x):</span><br><span class="line">        return self.pool(torch.relu(self.conv(x)))</span><br><span class="line"></span><br><span class="line">model = SimpleCNN().eval()</span><br><span class="line">dummy_input = torch.randn(1, 3, 224, 224)</span><br><span class="line"></span><br><span class="line"># å…³é”®å¯¼å‡ºå‚æ•°</span><br><span class="line">torch.onnx.export(</span><br><span class="line">    model, </span><br><span class="line">    dummy_input,</span><br><span class="line">    &quot;model.onnx&quot;,</span><br><span class="line">    input_names=[&quot;input&quot;],</span><br><span class="line">    output_names=[&quot;output&quot;],</span><br><span class="line">    opset_version=13,</span><br><span class="line">    dynamic_axes=&#123;&quot;input&quot;: &#123;0: &quot;batch&quot;&#125;&#125;,</span><br><span class="line">    do_constant_folding=True</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ¨¡å‹éªŒè¯ä¸å¯è§†åŒ–"><a href="#3-2-æ¨¡å‹éªŒè¯ä¸å¯è§†åŒ–" class="headerlink" title="3.2 æ¨¡å‹éªŒè¯ä¸å¯è§†åŒ–"></a>3.2 æ¨¡å‹éªŒè¯ä¸å¯è§†åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å®‰è£…éªŒè¯å·¥å…·é“¾</span><br><span class="line">pip install onnx onnxruntime netron</span><br><span class="line"></span><br><span class="line"># æ¨¡å‹æ£€æŸ¥</span><br><span class="line">python -m onnx.checker model.onnx</span><br><span class="line"></span><br><span class="line"># å¯è§†åŒ–æ¨¡å‹ç»“æ„</span><br><span class="line">python -m netron model.onnx</span><br></pre></td></tr></table></figure>

<h3 id="3-3-è·¨å¹³å°æ¨ç†"><a href="#3-3-è·¨å¹³å°æ¨ç†" class="headerlink" title="3.3 è·¨å¹³å°æ¨ç†"></a>3.3 è·¨å¹³å°æ¨ç†</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import onnxruntime as ort</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºä¼˜åŒ–ä¼šè¯</span><br><span class="line">options = ort.SessionOptions()</span><br><span class="line">options.graph_optimization_level = ort.GraphOptimizationLevel.ORT_ENABLE_ALL</span><br><span class="line">session = ort.InferenceSession(&quot;model.onnx&quot;, options)</span><br><span class="line"></span><br><span class="line"># æ•°æ®é¢„å¤„ç†</span><br><span class="line">input_data = np.random.randn(1,3,224,224).astype(np.float32)</span><br><span class="line"></span><br><span class="line"># æ‰§è¡Œæ¨ç†</span><br><span class="line">outputs = session.run(None, &#123;&quot;input&quot;: input_data&#125;)</span><br><span class="line">print(f&quot;Output shape: &#123;outputs[0].shape&#125;&quot;)</span><br></pre></td></tr></table></figure>

<h2 id="å››"><a href="#å››" class="headerlink" title="å››"></a>å››</h2><h3 id="4-1-æ¨¡å‹ç®€åŒ–ï¼ˆSimplificationï¼‰"><a href="#4-1-æ¨¡å‹ç®€åŒ–ï¼ˆSimplificationï¼‰" class="headerlink" title="4.1 æ¨¡å‹ç®€åŒ–ï¼ˆSimplificationï¼‰"></a>4.1 æ¨¡å‹ç®€åŒ–ï¼ˆSimplificationï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># å®‰è£…ï¼špip install onnx-simplifier</span><br><span class="line">from onnxsim import simplify</span><br><span class="line"></span><br><span class="line">model = onnx.load(&quot;model.onnx&quot;)</span><br><span class="line">simplified_model, check = simplify(model)</span><br><span class="line">onnx.save(simplified_model, &quot;model_sim.onnx&quot;)</span><br><span class="line"></span><br><span class="line"># éªŒè¯ç®€åŒ–ç»“æœ</span><br><span class="line">assert check, &quot;Simplification check failed&quot;</span><br><span class="line">print(f&quot;èŠ‚ç‚¹æ•°ä»&#123;len(model.graph.node)&#125;å‡å°‘åˆ°&#123;len(simplified_model.graph.node)&#125;&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="4-2-è‡ªå®šä¹‰ç®—å­æ”¯æŒ"><a href="#4-2-è‡ªå®šä¹‰ç®—å­æ”¯æŒ" class="headerlink" title="4.2 è‡ªå®šä¹‰ç®—å­æ”¯æŒ"></a>4.2 è‡ªå®šä¹‰ç®—å­æ”¯æŒ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import onnx</span><br><span class="line">from onnx import helper</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºRelu6è‡ªå®šä¹‰ç®—å­</span><br><span class="line">relu6_node = helper.make_node(</span><br><span class="line">    &#x27;Clip&#x27;,</span><br><span class="line">    inputs=[&#x27;input&#x27;],</span><br><span class="line">    outputs=[&#x27;output&#x27;],</span><br><span class="line">    min=0.0,</span><br><span class="line">    max=6.0</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># æ’å…¥åˆ°ç°æœ‰æ¨¡å‹</span><br><span class="line">original_model = onnx.load(&quot;model.onnx&quot;)</span><br><span class="line">original_model.graph.node.append(relu6_node)</span><br><span class="line">onnx.save(original_model, &quot;model_custom.onnx&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="4-3-é‡åŒ–åŠ é€Ÿ"><a href="#4-3-é‡åŒ–åŠ é€Ÿ" class="headerlink" title="4.3 é‡åŒ–åŠ é€Ÿ"></a>4.3 é‡åŒ–åŠ é€Ÿ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">from onnxruntime.quantization import quantize_dynamic, QuantType</span><br><span class="line"></span><br><span class="line"># åŠ¨æ€é‡åŒ–ï¼ˆæƒé‡int8/æ¿€æ´»float32ï¼‰</span><br><span class="line">quantize_dynamic(</span><br><span class="line">    &quot;model_sim.onnx&quot;,</span><br><span class="line">    &quot;model_quant.onnx&quot;, </span><br><span class="line">    weight_type=QuantType.QInt8,</span><br><span class="line">    optimize_model=True</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># é‡åŒ–åæ¨¡å‹ä½“ç§¯å¯¹æ¯”</span><br><span class="line">import os</span><br><span class="line">print(f&quot;Size reduced: &#123;os.path.getsize(&#x27;model_sim.onnx&#x27;)/os.path.getsize(&#x27;model_quant.onnx&#x27;):.1f&#125;x&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="4-4"><a href="#4-4" class="headerlink" title="4.4"></a>4.4</h3><h4 id="4-4-1-å›¾ä¼˜åŒ–ï¼ˆGraph-Optimizationï¼‰"><a href="#4-4-1-å›¾ä¼˜åŒ–ï¼ˆGraph-Optimizationï¼‰" class="headerlink" title="4.4.1 å›¾ä¼˜åŒ–ï¼ˆGraph Optimizationï¼‰"></a>4.4.1 å›¾ä¼˜åŒ–ï¼ˆGraph Optimizationï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ONNX Runtimeå†…ç½®ä¼˜åŒ–</span><br><span class="line">options = ort.SessionOptions()</span><br><span class="line">options.add_session_config_entry(&quot;session.graph_optimization_level&quot;, &quot;3&quot;)</span><br><span class="line"></span><br><span class="line"># è‡ªå®šä¹‰ä¼˜åŒ–è§„åˆ™</span><br><span class="line">options.add_session_config_entry(</span><br><span class="line">    &quot;session.optimized_model_filepath&quot;, </span><br><span class="line">    &quot;optimized_model.onnx&quot;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="4-4-2-ä¸TensorRTé›†æˆ"><a href="#4-4-2-ä¸TensorRTé›†æˆ" class="headerlink" title="4.4.2 ä¸TensorRTé›†æˆ"></a>4.4.2 ä¸TensorRTé›†æˆ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># ä½¿ç”¨trtexecè½¬æ¢</span><br><span class="line"># trtexec --onnx=model.onnx --saveEngine=model.engine --fp16</span><br><span class="line"></span><br><span class="line"># Pythonè°ƒç”¨ç¤ºä¾‹</span><br><span class="line">import tensorrt as trt</span><br><span class="line"></span><br><span class="line">logger = trt.Logger(trt.Logger.WARNING)</span><br><span class="line">runtime = trt.Runtime(logger)</span><br><span class="line">with open(&quot;model.engine&quot;, &quot;rb&quot;) as f:</span><br><span class="line">    engine = runtime.deserialize_cuda_engine(f.read())</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
  </entry>
</search>
